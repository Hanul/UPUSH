UPUSH.ANDROID_PUSH=METHOD(function(){"use strict";var e,i=require("node-gcm");return void 0!==NODE_CONFIG.UPUSH&&void 0!==NODE_CONFIG.UPUSH.android&&(e=new i.Sender(NODE_CONFIG.UPUSH.android.serverKey)),{run:function(n){var a=n.regId,o=new i.Message({delayWhileIdle:!1,timeToLive:1800,data:n.data});e.send(o,[a],5,function(e,i){})}}}),UPUSH.IOS_PUSH=METHOD(function(){"use strict";var e,i=require("apn");return void 0!==NODE_CONFIG.UPUSH&&void 0!==NODE_CONFIG.UPUSH.ios&&(e=new i.Connection({cert:READ_FILE({path:NODE_CONFIG.UPUSH.ios.certFilePath,isSync:!0}),key:READ_FILE({path:NODE_CONFIG.UPUSH.ios.keyFilePath,isSync:!0}),production:NODE_CONFIG.UPUSH.isDebugMode!==!0,passphrase:NODE_CONFIG.UPUSH.ios.password})),{run:function(n){var a=n.token,o=new i.Device(a),t=new i.Notification;t.badge=n.badge,t.sound=n.sound,t.alert=n.message,t.payload=void 0===n.data?{}:n.data,e.pushNotification(t,o)}}});