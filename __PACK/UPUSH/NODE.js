UPUSH.ANDROID_PUSH=METHOD(()=>{let e,n=require("node-gcm");return void 0!==NODE_CONFIG.UPUSH&&void 0!==NODE_CONFIG.UPUSH.android&&(e=new n.Sender(NODE_CONFIG.UPUSH.android.serverKey)),{run:i=>{let o=i.regId,t=new n.Message({delayWhileIdle:!1,timeToLive:1800,data:i.data});e.send(t,[o],5,(e,n)=>{})}}}),UPUSH.IOS_PUSH=METHOD(()=>{let e,n=require("apn");return void 0!==NODE_CONFIG.UPUSH&&void 0!==NODE_CONFIG.UPUSH.ios&&(e=new n.Connection({cert:READ_FILE({path:NODE_CONFIG.UPUSH.ios.certFilePath,isSync:!0}),key:READ_FILE({path:NODE_CONFIG.UPUSH.ios.keyFilePath,isSync:!0}),production:NODE_CONFIG.UPUSH.isDebugMode!==!0,passphrase:NODE_CONFIG.UPUSH.ios.password}),e.on("error",e=>{UPUSH.SHOW_ERROR("IOS_PUSH",e.toString())})),{run:i=>{let o=i.token,t=new n.Device(o),a=new n.Notification;a.badge=i.badge,a.sound=i.sound,a.alert=i.message,a.payload=void 0===i.data?{}:i.data,e.pushNotification(a,t)}}});