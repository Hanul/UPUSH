UPUSH.ANDROID_PUSH=METHOD(function(){"use strict";var e,n=require("node-gcm");return void 0!==NODE_CONFIG.UPUSH&&void 0!==NODE_CONFIG.UPUSH.android&&(e=new n.Sender(NODE_CONFIG.UPUSH.android.serverKey)),{run:function(i){var a=i.regId,t=new n.Message({delayWhileIdle:!1,timeToLive:1800,data:{title:i.title,message:i.message}});e.send(t,[a],5,function(){})}}}),UPUSH.IOS_PUSH=METHOD(function(){"use strict";var e,n=require("apn");return void 0!==NODE_CONFIG.UPUSH&&void 0!==NODE_CONFIG.UPUSH.ios&&(e=new n.Connection({gateway:"gateway.sandbox.push.apple.com",cert:NODE_CONFIG.UPUSH.ios.certFilePath,key:NODE_CONFIG.UPUSH.ios.keyFilePath})),{run:function(i){var a=i.token,t=new n.Device(a),o=new n.Notification;o.badge=i.badge,o.sound=i.sound,o.alert=i.message,o.payload=i.data,e.pushNotification(o,t)}}});