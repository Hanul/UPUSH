UPUSH.ANDROID_PUSH=METHOD(()=>{var t=require("fcm-node");let e;return void 0!==NODE_CONFIG.UPUSH&&void 0!==NODE_CONFIG.UPUSH.Android&&(e=new t(NODE_CONFIG.UPUSH.Android.serverKey)),{run:t=>{let n=t.regId,i=t.title,O=t.message;e.send({to:n,notification:{title:i,body:O}},(t,e)=>{})}}}),UPUSH.IOS_PUSH=METHOD(()=>{let t,e=require("@parse/node-apn");if(void 0!==NODE_CONFIG.UPUSH&&void 0!==NODE_CONFIG.UPUSH.IOS)try{t=new e.Provider({cert:READ_FILE({path:NODE_CONFIG.UPUSH.IOS.certFilePath,isSync:!0}),key:READ_FILE({path:NODE_CONFIG.UPUSH.IOS.keyFilePath,isSync:!0}),production:NODE_CONFIG.UPUSH.isDebugMode!==!0,passphrase:NODE_CONFIG.UPUSH.IOS.password})}catch(t){UPUSH.SHOW_ERROR("IOS_PUSH",t.toString())}return{run:n=>{if(void 0!==t){let i=n.token,O=new e.Notification;O.topic=NODE_CONFIG.UPUSH.IOS.appBundleId,O.badge=n.badge,O.sound="ping.aiff",O.alert=n.message,O.payload=void 0===n.data?{}:n.data,O.pushType="alert";try{t.send(O,[i]).then(t=>{}).catch(t=>{UPUSH.SHOW_ERROR("IOS_PUSH",t.toString())})}catch(t){UPUSH.SHOW_ERROR("IOS_PUSH",t.toString())}}}}});